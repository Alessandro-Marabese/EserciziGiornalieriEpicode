<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
        *,
        *::before,
        *::after {
            box-sizing: border-box;
        }

        body {
            margin: 0;
        }

        body div,
        footer {
            padding: 1rem;
        }

        footer {
            padding: 1rem;
            background-color: black;
            color: white;
        }

        .myHeading {
            color: #ff00d6;
        }
    </style>
</head>

<body>
    <div>
        <h1 onclick="makeItClickable()">Questo è il titolo della pagina</h1>
        <h2>Questo è il sottotitolo della pagina</h2>
    </div>

    <div>
        <hr />

        <ul id="firstList">
            <li>1st</li>
            <li>2nd</li>
            <li>3rd</li>
        </ul>

        <ul id="secondList">
            <li>1st</li>
            <li>2nd</li>
            <li>3rd</li>
        </ul>

        <a href="https://epicode.com/it/">Questo link porta al sito di Epicode</a>

        <div>
            <p>Questo testo è un placeholder per gli esercizi</p>
        </div>
    </div>

    <div>
        <p>Anche questo testo è per gli esercizi</p>
        <h2 onclick="changeColorWithRandom()" id="changeMyColor" style="color: #ff00d6">
            Apri questa pagina con VSCode per scoprire gli esercizi
        </h2>
    </div>

    <div id="tableArea"></div>

    <footer onclick="revealFooterLink()">
        <h3>
            DOM Manipulation is super
            <a
                href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Manipulating_documents">AWESOME!</a>
        </h3>
    </footer>
    <script>
        /* ESERCIZIO 1
         Scrivi una funzione per cambiare il titolo della pagina in qualcos'altro
      */

        const changeTitle = function () {
            let tit = document.querySelector("div h1");
            tit.innerText = "Epicode il blog dei developer";
        }
        changeTitle();

        /* ESERCIZIO 2
         Scrivi una funzione per aggiungere al titolo della pagina una classe "myHeading"
      */

        const addClassToTitle = function () {
            let tit = document.querySelector("div h1");
            //tit.className = "myHeading";
            tit.classList.add("myHeading");
        }

        addClassToTitle();

        /* ESERCIZIO 3
         Scrivi una funzione che cambi il testo dei p figli di un div
        */

        const changePcontent = function () {
            let allParag = document.querySelectorAll("div > p");
            allParag.forEach(ele => {
                ele.innerText = "Lorem ipsum dolor sit amet consectetur adipisicing elit.";
            })
        }
        changePcontent();

        /* ESERCIZIO 4
         Scrivi una funzione che cambi la proprietà href di ogni link (tranne quello nel footer) con il valore https://www.google.com
        */

        const changeUrls = function () {
            let link = document.querySelectorAll("a:not(footer a)");
            link.forEach(ele => {
                ele.href = "https://www.google.com";
            })
        }
        changeUrls();

        /* ESERCIZIO 5
         Scrivi una funzione che aggiunga un nuovo elemento lista alla seconda lista non ordinata
      */

        const addToTheSecond = function () {
            let listTwo = document.getElementById("secondList");
            let li = document.createElement("li");
            li.innerText = "4th";
            listTwo.appendChild(li);
        }
        addToTheSecond();

        /* ESERCIZIO 6
         Scrivi una funzione che aggiunga un paragrafo al primo div
      */

        const addParagraph = function () {
            let divBody = document.querySelector("body div");
            let firstDivParag = document.createElement("p");
            firstDivParag.innerText = "Lorem ipsum dolor sit amet consectetur adipisicing elit.";
            divBody.appendChild(firstDivParag);
        }
        addParagraph();

        /* ESERCIZIO 7
         Scrivi una funzione che faccia scomparire la prima lista non ordinata
      */

        const hideFirstUl = function () {
            let listOne = document.getElementById("firstList");
            let d = listOne.parentNode;
            d.removeChild(listOne);
        }
        hideFirstUl();

        /* ESERCIZIO 8 
         Scrivi una funzione che renda verde il background di ogni lista non ordinata
        */
        const paintItGreen = function () {
            //let list = document.querySelector("div ul");
            let list = document.querySelectorAll("div ul");
            //list.style.backgroundColor = "green";
            list.forEach(ele => {
                ele.style.backgroundColor = "green";
            })
        }
        paintItGreen();

        /* ESERCIZIO 9
         Scrivi una funzione che rimuova l'ultima lettera dall'h1 ogni volta che l'utente lo clicca
        */

        const makeItClickable = function () {
            let t = document.querySelector("div h1");
            let currentText = t.innerText;
            t.innerText = currentText.slice(0, -1);
        };

        /* ESERCIZIO 10
         Crea una funzione che, al click sul footer, riveli l'URL del link interno come contenuto di un alert()
        */

        const revealFooterLink = function () {
            let footerLink = document.querySelector("footer a");
            let link = footerLink.href;
            alert(link);
        }

        /* ESERCIZIO 11
         Crea una funzione che crei una tabella nell'elemento con id "tableArea". 
         La tabella avrà 5 elementi e questa struttura: immagine, nome prodotto, quantità, prezzo
      */

        const generateTable = function () {
            let divTable = document.getElementById("tableArea");
            let table = document.createElement("table");

            let firstRow = document.createElement("tr");

            let th1 = document.createElement("th");
            th1.innerText = "Immagine";
            let th2 = document.createElement("th");
            th2.innerText = "Prodotto";
            let th3 = document.createElement("th");
            th3.innerText = "Quantità";
            let th4 = document.createElement("th");
            th4.innerText = "Prezzo";

            const images = [
                'https://m.media-amazon.com/images/I/81yJf4K+L1L._AC_SY450_.jpg',
                'https://m.media-amazon.com/images/I/61MRTh9xotL._AC_SX679_.jpg',
                'https://www.tradeinn.com/f/13805/138054505/samsung-smartphone-galaxy-s21-5g-8gb-128gb-6.2.jpg',
                'https://i01.appmifile.com/v1/MI_18455B3E4DA706226CF7535A58E875F0267/pms_1661333885.70133010!500x500.png',
                'https://tomatosmartphone.it/wp-content/uploads/2022/06/EU-IN_Green.png',
            ]

            firstRow.appendChild(th1);
            firstRow.appendChild(th2);
            firstRow.appendChild(th3);
            firstRow.appendChild(th4);
            table.appendChild(firstRow);

            for (let i = 0; i < images.length; i++) {
                let newRow = document.createElement("tr");
                let tdImage = document.createElement("td");
                tdImage.innerHTML = ` <img src=${images[i]} alt="smartphone" height="200" />`;
                let tdProduct = document.createElement("td");
                tdProduct.innerText = "Smartphone";
                let tdQuantity = document.createElement("td");
                tdQuantity.innerText = Math.floor(Math.random() * 50);
                let tdPrice = document.createElement("td");
                tdPrice.innerText = Math.floor(Math.random() * 500) + '€';

                newRow.appendChild(tdImage);
                newRow.appendChild(tdProduct);
                newRow.appendChild(tdQuantity);
                newRow.appendChild(tdPrice);
                table.appendChild(newRow);
            }

            divTable.appendChild(table);
        }
        generateTable();

        /* ESERCIZIO 12
         Crea una funzione che aggiunga una riga alla tabella precedentemente creata e fornisca i dati necessari come parametri
      */

        const addRow = function (imgUrl, productName, quantity, price) {
            let table = document.querySelector("div table");
            let newRow = document.createElement("tr");

            let tdImage = document.createElement("td");
            tdImage.innerHTML = ` <img src=${imgUrl} alt="smartphone" height="200" />`;
            let tdProduct = document.createElement("td");
            tdProduct.innerText = productName;
            let tdQuantity = document.createElement("td");
            tdQuantity.innerText = quantity;
            let tdPrice = document.createElement("td");
            tdPrice.innerText = price + "€";


            newRow.appendChild(tdImage);
            newRow.appendChild(tdProduct);
            newRow.appendChild(tdQuantity);
            newRow.appendChild(tdPrice);
            table.appendChild(newRow);

        }
        addRow('https://data.wikomobile.com/documents/images/IT/dbd2f986d94529fc20c0864e2c5c978c.jpg',
        'Wiko', 10, 200);

        /* ESERCIZIO 13
        Crea una funzione che nasconda le immagini della tabella quando eseguita
      */

        const hideAllImages = function () {
            let images = document.querySelectorAll("img");
            for (let i = 0; i < images.length; i++) {
                images[i].style.display = "none";
            }
        }
        hideAllImages();

        /* EXTRA ESERCIZIO 14
        Crea una funzione che cambi il colore del h2 con id "changeMyColor" con un colore random ad ogni click ricevuto
      */

        const changeColorWithRandom = function () {
            let h2 = document.getElementById("changeMyColor");
            let randomColor = Math.floor(Math.random() * 16777215).toString(16);
            h2.style.color = "#" + randomColor;
        }
    </script>
</body>

</html>